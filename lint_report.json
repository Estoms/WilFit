[{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\(dashboard)\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogOut' is defined but never used.","line":4,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":49,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"LogOut"},"fix":{"range":[170,178],"text":""},"desc":"Remove unused variable \"LogOut\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'signout' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"signout"},"fix":{"range":[234,278],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { Dumbbell, User, LayoutDashboard, LogOut, Calendar as CalendarIcon, Plus } from 'lucide-react'\r\nimport { signout } from '@/app/auth/actions'\r\n\r\nexport default async function DashboardLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode\r\n}) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    // Protect all routes by default? Or just dashboard?\r\n    // User asked for \"Redirect if not connected -> Login\".\r\n    // This layout usually wraps the main app.\r\n\r\n    if (!user) {\r\n        redirect('/login')\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-950 text-white pb-20\">\r\n            <main className=\"container mx-auto px-4 py-6\">\r\n                {children}\r\n            </main>\r\n\r\n            {/* Mobile Bottom Navigation */}\r\n            <nav className=\"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 z-50\">\r\n                <div className=\"container mx-auto max-w-md px-6 flex justify-between items-center h-16\">\r\n                    <Link href=\"/\" className=\"flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors\">\r\n                        <LayoutDashboard size={24} />\r\n                        <span className=\"text-[10px] uppercase font-bold mt-1 tracking-wide\">Home</span>\r\n                    </Link>\r\n                    <Link href=\"/schedule\" className=\"flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors\">\r\n                        <CalendarIcon size={24} />\r\n                        <span className=\"text-[10px] uppercase font-bold mt-1 tracking-wide\">Plan</span>\r\n                    </Link>\r\n\r\n                    {/* Central Action Button */}\r\n                    <div className=\"relative -top-5\">\r\n                        <Link href=\"/workouts/new\" className=\"flex items-center justify-center w-14 h-14 bg-indigo-600 rounded-full shadow-lg shadow-indigo-600/50 hover:scale-105 hover:bg-indigo-500 transition-all border-4 border-gray-950\">\r\n                            <Plus size={28} className=\"text-white\" />\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <Link href=\"/profile\" className=\"flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors\">\r\n                        <User size={24} />\r\n                        <span className=\"text-[10px] uppercase font-bold mt-1 tracking-wide\">Profil</span>\r\n                    </Link>\r\n                    <Link href=\"/exercises\" className=\"flex flex-col items-center justify-center text-gray-400 hover:text-indigo-500 transition-colors\">\r\n                        <Dumbbell size={24} />\r\n                        <span className=\"text-[10px] uppercase font-bold mt-1 tracking-wide\">Library</span>\r\n                    </Link>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\(dashboard)\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1054,1057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1054,1057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1277,1280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1277,1280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1454,1457],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1454,1457],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1525,1528],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1525,1528],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport OneRMChart from '@/components/dashboard/OneRMChart'\r\nimport LastWorkoutWidget from '@/components/dashboard/LastWorkoutWidget'\r\n\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport default async function DashboardPage() {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) {\r\n        return redirect('/login')\r\n    }\r\n\r\n    // 1. Fetch Last Workout\r\n    const { data: lastWorkout } = await supabase\r\n        .from('workouts')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .eq('status', 'completed')\r\n        .order('end_time', { ascending: false })\r\n        .limit(1)\r\n        .single()\r\n\r\n    // 2. Fetch Chart Data (Bench Press History)\r\n    // Find 'Bench Press' or similar\r\n    const { data: benchExercise } = await supabase\r\n        .from('exercises')\r\n        .select('id')\r\n        .ilike('name', '%Bench Press%') // Simple matching\r\n        .limit(1)\r\n        .single()\r\n\r\n    let chartData: any[] = []\r\n\r\n    if (benchExercise) {\r\n        const { data: sets } = await supabase\r\n            .from('sets')\r\n            .select('estimated_1rm, workouts(start_time)')\r\n            .eq('exercise_id', (benchExercise as any).id)\r\n            .order('id', { ascending: true }) // Chronological\r\n\r\n        // Transform\r\n        if (sets) {\r\n            chartData = sets\r\n                .filter((s: any) => s.workouts) // Ensure workout exists\r\n                .map((s: any) => ({\r\n                    date: new Date(s.workouts.start_time).toLocaleDateString(undefined, { month: 'short', day: 'numeric' }),\r\n                    oneRM: s.estimated_1rm\r\n                }))\r\n        }\r\n    }\r\n\r\n    // 3. Weekly Volume Load\r\n    // Calculate specific fatigue metrics? Simplified: show total volume load of this week\r\n    // ... (Skipping complex date logic for brevity, just showing placeholder widget)\r\n\r\n    return (\r\n        <div className=\"space-y-6 pb-20\">\r\n            <header>\r\n                <h1 className=\"text-2xl font-bold\">Welcome back!</h1>\r\n                <p className=\"text-gray-400\">Ready to crush your goals?</p>\r\n            </header>\r\n\r\n            <LastWorkoutWidget workout={lastWorkout} />\r\n\r\n            <OneRMChart data={chartData} />\r\n\r\n            {/* Fatigue / Volume Widget */}\r\n            <div className=\"bg-gray-900 p-6 rounded-xl border border-gray-800\">\r\n                <h3 className=\"text-lg font-semibold mb-2\">Weekly Volume</h3>\r\n                <div className=\"flex items-end gap-2\">\r\n                    <span className=\"text-3xl font-bold text-green-400\">--</span>\r\n                    <span className=\"text-sm text-gray-500 mb-1\">kg moved</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\api\\exercise-image\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'targetUrl' is assigned a value but never used.","line":21,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'imageUrl' is assigned a value but never used.","line":39,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\n\r\nexport async function GET(request: NextRequest) {\r\n    const searchParams = request.nextUrl.searchParams\r\n    const id = searchParams.get('id')\r\n\r\n    if (!id) {\r\n        return new NextResponse('Missing ID', { status: 400 })\r\n    }\r\n\r\n    const RAPID_API_KEY = process.env.RAPIDAPI_KEY\r\n    if (!RAPID_API_KEY) {\r\n        return new NextResponse('Server Misconfiguration', { status: 500 })\r\n    }\r\n\r\n    // \"Basic\" plan usually allows 180 or 360. Safest is to try 360 or let logic handle it.\r\n    // The documentation says \"Basic: 180\". Let's try to ask for 360, it might fallback?\r\n    // Or just ask for the default endpoint without resolution?\r\n    // Docs say: GET https://exercisedb.p.rapidapi.com/image?exerciseId=...&resolution=...\r\n    // Let's use resolution=180 to be safe for free/basic tier users.\r\n    const targetUrl = `https://exercisedb.p.rapidapi.com/exercises/exercise-images/${id}`\r\n\r\n    // Wait, the docs said: https://exercisedb.p.rapidapi.com/image\r\n    // Let's re-read the search result carefully.\r\n    // \"URL: https://exercisedb.p.rapidapi.com/image\"\r\n    // Params: exerciseId, resolution, rapidapi-key\r\n\r\n    // BUT the previous search result I saw earlier \"API response example\" had urls like \".../exercises/exercise-images/...\"?\r\n    // No, that was my debug script which DID NOT show any URL.\r\n\r\n    // Let's trust the railway.app result: `https://exercisedb.p.rapidapi.com/image`\r\n    // Wait, let me double check the \"debug_api.js\" usage. I used `/exercises/name/...`.\r\n\r\n    // Let's try the new endpoint structure.\r\n\r\n    // Actually, I can try to fetch both or just the one documented.\r\n    // Let's go with the documented one.\r\n\r\n    const imageUrl = `https://exercisedb.p.rapidapi.com/exercises/exercise-images/${id}`\r\n    // Wait, I am confused about the URL structure.\r\n    // Let's look at the search result 494 again.\r\n    // URL: https://exercisedb.p.rapidapi.com/image\r\n    // Query params: exerciseId=...\r\n\r\n    // So the URL should be:\r\n    const fetchUrl = `https://exercisedb.p.rapidapi.com/image?exerciseId=${id}&resolution=360`\r\n\r\n    try {\r\n        const response = await fetch(fetchUrl, {\r\n            headers: {\r\n                'x-rapidapi-key': RAPID_API_KEY,\r\n                'x-rapidapi-host': 'exercisedb.p.rapidapi.com'\r\n            }\r\n        })\r\n\r\n        if (!response.ok) {\r\n            console.error('Image Proxy Error:', response.status, response.statusText)\r\n            return new NextResponse('Failed to fetch image', { status: response.status })\r\n        }\r\n\r\n        // Forward the image\r\n        const contentType = response.headers.get('content-type') || 'image/gif'\r\n        const buffer = await response.arrayBuffer()\r\n\r\n        return new NextResponse(buffer, {\r\n            headers: {\r\n                'Content-Type': contentType,\r\n                'Cache-Control': 'public, max-age=86400' // Cache for 1 day\r\n            }\r\n        })\r\n\r\n    } catch (e) {\r\n        console.error('Proxy Exception:', e)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\auth\\actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\exercises\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'redirect' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":18,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"redirect"},"fix":{"range":[56,98],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[563,566],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[563,566],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":33,"column":21,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":103}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport default async function ExerciseDetailsPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const supabase = await createClient()\r\n\r\n    const { id } = await params\r\n\r\n    const { data: exerciseData } = await supabase\r\n        .from('exercises')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single()\r\n\r\n    if (!exerciseData) {\r\n        return <div className=\"p-6\">Exercise not found</div>\r\n    }\r\n\r\n    const exercise = exerciseData as any;\r\n\r\n    // Fetch PR History? Or just show current PR?\r\n    // Schema has `current_pr` in `exercises` table.\r\n    // To show proper history, we'd query `sets` with this exercise_id ordered by weight/date.\r\n    // But for now, let's show the main info.\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-950 text-white p-6 pb-24\">\r\n            <h1 className=\"text-3xl font-bold capitalize mb-2\">{exercise.name}</h1>\r\n            <p className=\"text-gray-400 capitalize mb-6\">{exercise.body_part}</p>\r\n\r\n            <div className=\"rounded-xl overflow-hidden bg-gray-900 border border-gray-800 mb-8\">\r\n                {exercise.gif_url ? (\r\n                    <img src={exercise.gif_url} alt={exercise.name} className=\"w-full object-cover\" />\r\n                ) : (\r\n                    <div className=\"h-64 flex items-center justify-center text-gray-500\">No GIF available</div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"bg-gray-900 rounded-xl p-6 border border-gray-800\">\r\n                <h2 className=\"text-xl font-bold mb-4\">Personal Record</h2>\r\n                <div className=\"text-4xl font-bold text-indigo-500\">\r\n                    {exercise.current_pr ? `${exercise.current_pr} kg` : '--'}\r\n                </div>\r\n                <p className=\"text-sm text-gray-400 mt-2\">Theoretical 1RM</p>\r\n            </div>\r\n\r\n            {/* Todo: Graph of history? */}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\exercises\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'revalidatePath' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"revalidatePath"},"fix":{"range":[72,115],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":24,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":35},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[833,836],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[833,836],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2027,2030],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2027,2030],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3357,3360],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3357,3360],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3725,3728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3725,3728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3876,3879],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3876,3879],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nconst RAPID_API_KEY = process.env.RAPIDAPI_KEY\r\nconst RAPID_API_HOST = 'exercisedb.p.rapidapi.com'\r\n\r\ntype ApiExercise = {\r\n    id: string\r\n    name: string\r\n    bodyPart: string\r\n    gifUrl?: string\r\n    target: string\r\n    equipment: string\r\n}\r\n\r\nexport async function searchExercises(query: string) {\r\n    if (!query || query.length < 3) return []\r\n\r\n    const supabase = await createClient()\r\n\r\n    // 1. Search Local DB first\r\n    const { data: localData, error } = await supabase\r\n        .from('exercises')\r\n        .select('*')\r\n        .ilike('name', `%${query}%`)\r\n        .limit(10)\r\n\r\n    let results: ApiExercise[] = []\r\n\r\n    if (localData && localData.length > 0) {\r\n        results = (localData as any[]).map(ex => ({\r\n            id: ex.id, // UUID\r\n            name: ex.name,\r\n            bodyPart: ex.body_part,\r\n            target: '', // We might not store this locally yet, implies partial data\r\n            equipment: '',\r\n            gifUrl: ex.gif_url || undefined\r\n        }))\r\n    }\r\n\r\n    // 2. If we have enough local results (e.g. >= 5), we can skip API to save quota/time.\r\n    // Or we can always fetch API to supplement.\r\n    // Requirement: \"Ne pas rappeler l'API 2 fois\".\r\n    // Strategy: If we found exact match or good amount of local, return local.\r\n    // Otherwise, fetch API and combine.\r\n\r\n    if (results.length >= 5) {\r\n        return results\r\n    }\r\n\r\n    // 3. Search API\r\n    const url = `https://exercisedb.p.rapidapi.com/exercises/name/${query}?limit=10`\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'x-rapidapi-key': RAPID_API_KEY!,\r\n            'x-rapidapi-host': RAPID_API_HOST\r\n        }\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(url, options)\r\n        const apiData = await response.json()\r\n\r\n        if (Array.isArray(apiData) && apiData.length > 0) {\r\n            const apiResults = apiData.map((ex: any) => ({\r\n                id: ex.id, // String ID from API\r\n                name: ex.name,\r\n                bodyPart: ex.bodyPart,\r\n                target: ex.target,\r\n                equipment: ex.equipment,\r\n                gifUrl: `/api/exercise-image?id=${ex.id}`\r\n            })) as ApiExercise[]\r\n\r\n            // Filter out duplicates (check by name roughly?)\r\n            // Or just append.\r\n            // Ideally avoid showing same exercise twice.\r\n            const existingNames = new Set(results.map(r => r.name.toLowerCase()))\r\n            const newExercises = apiResults.filter(r => !existingNames.has(r.name.toLowerCase()))\r\n\r\n            results = [...results, ...newExercises]\r\n        }\r\n    } catch (error) {\r\n        console.error('API Search failed', error)\r\n        // Fallback to just local results\r\n    }\r\n\r\n    return results\r\n}\r\n\r\nexport async function importExercise(apiExercise: ApiExercise) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    // Check if exists\r\n    const { data: existing } = await supabase\r\n        .from('exercises')\r\n        .select('id')\r\n        .eq('external_api_id', apiExercise.id)\r\n        .single()\r\n\r\n    if (existing) {\r\n        return { id: (existing as any).id, isNew: false }\r\n    }\r\n\r\n    // Insert\r\n    const { data: newExercise, error } = await supabase\r\n        .from('exercises')\r\n        .insert({\r\n            user_id: user.id,\r\n            external_api_id: apiExercise.id,\r\n            name: apiExercise.name,\r\n            body_part: apiExercise.bodyPart,\r\n            gif_url: apiExercise.gifUrl,\r\n        } as any)\r\n        .select('id')\r\n        .single()\r\n\r\n    if (error) {\r\n        return { error: error.message }\r\n    }\r\n\r\n    return { id: (newExercise as any).id, isNew: true }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\exercises\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[392,395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[392,395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[861,864],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[861,864],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { searchExercises, importExercise } from './actions'\r\nimport { Loader2 } from 'lucide-react'\r\nimport ExerciseCard from '@/components/exercises/ExerciseCard'\r\nimport { useRouter } from 'next/navigation'\r\n\r\nexport default function ExercisesPage() {\r\n    const [query, setQuery] = useState('')\r\n    const [results, setResults] = useState<any[]>([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [importing, setImporting] = useState<string | null>(null)\r\n\r\n    const router = useRouter()\r\n\r\n    const handleSearch = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        if (!query) return\r\n        setLoading(true)\r\n        const data = await searchExercises(query)\r\n        setResults(data || [])\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleImport = async (exercise: any) => {\r\n        setImporting(exercise.id)\r\n        try {\r\n            const res = await importExercise(exercise)\r\n            // console.log('Import result:', res)\r\n\r\n            if (res.error) {\r\n                alert(`Error importing exercise: ${res.error}`)\r\n                setImporting(null)\r\n                return\r\n            }\r\n\r\n            // Check for workoutId in URL\r\n            const params = new URLSearchParams(window.location.search)\r\n            const workoutId = params.get('workoutId')\r\n\r\n            if (workoutId && res.id) {\r\n                // Keep loading state while redirecting\r\n                router.push(`/workouts/${workoutId}?newExercise=${res.id}`)\r\n            } else {\r\n                setImporting(null)\r\n                // Optional: Toast success if not redirecting\r\n                alert(\"Exercise added to library!\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Import failed\", error)\r\n            alert(\"Failed to import exercise.\")\r\n            setImporting(null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-4 space-y-6\">\r\n            <h1 className=\"text-2xl font-bold\">Exercise Library</h1>\r\n\r\n            <form onSubmit={handleSearch} className=\"flex gap-2\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    placeholder=\"Search exercises (e.g., Bench Press)\"\r\n                    className=\"flex-1 rounded-md bg-gray-800 border-gray-700 text-white px-4 py-2\"\r\n                />\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"bg-indigo-600 px-4 py-2 rounded-md font-medium disabled:opacity-50\"\r\n                >\r\n                    {loading ? <Loader2 className=\"animate-spin\" /> : 'Search'}\r\n                </button>\r\n            </form>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {results.map((ex) => (\r\n                    <ExerciseCard\r\n                        key={ex.id}\r\n                        exercise={ex}\r\n                        onImport={handleImport}\r\n                        importing={importing === ex.id}\r\n                    // Simple check if it's already \"local\" (UUID vs Numeric string) to show as \"Saved\"?\r\n                    // Actually, searchExercises mixes them.\r\n                    // If it came from Local DB, we could imply it's added.\r\n                    // But for now, let's keep simple.\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[340,343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[340,343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[796,799],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[796,799],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":47,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":19}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { login, signup, signInWithGoogle } from '@/app/auth/actions' // We will need to adjust this if using bind/server actions directly\r\nimport { Loader2 } from 'lucide-react'\r\n\r\n// Simple UI Components inline for now or imported later\r\nfunction Button({ children, className, ...props }: any) {\r\n    return (\r\n        <button\r\n            className={`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${className}`}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n\r\nfunction Input({ className, ...props }: any) {\r\n    return (\r\n        <input\r\n            className={`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ${className}`}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\n\r\nexport default function LoginPage() {\r\n    const [isLogin, setIsLogin] = useState(true)\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState<string | null>(null)\r\n\r\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault()\r\n        setLoading(true)\r\n        setError(null)\r\n        const formData = new FormData(event.currentTarget)\r\n\r\n        try {\r\n            if (isLogin) {\r\n                const res = await login(formData)\r\n                if (res?.error) setError(res.error)\r\n            } else {\r\n                const res = await signup(formData)\r\n                if (res?.error) setError(res.error)\r\n            }\r\n        } catch (e) {\r\n            setError(\"An unexpected error occurred.\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen flex-1 flex-col justify-center px-6 py-12 lg:px-8 bg-gray-950 text-white\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n                <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white\">\r\n                    {isLogin ? 'Sign in to your account' : 'Create your account'}\r\n                </h2>\r\n            </div>\r\n\r\n            <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n                <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n                    {!isLogin && (\r\n                        <div>\r\n                            <label htmlFor=\"username\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                                Username\r\n                            </label>\r\n                            <div className=\"mt-2\">\r\n                                <Input id=\"username\" name=\"username\" type=\"text\" required autoComplete=\"username\" className=\"bg-gray-800 text-white ring-gray-700 focus:ring-indigo-500\" />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                            Email address\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                            <Input id=\"email\" name=\"email\" type=\"email\" required autoComplete=\"email\" className=\"bg-gray-800 text-white ring-gray-700 focus:ring-indigo-500\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                                Password\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"mt-2\">\r\n                            <Input id=\"password\" name=\"password\" type=\"password\" required autoComplete=\"current-password\" className=\"bg-gray-800 text-white ring-gray-700 focus:ring-indigo-500\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"text-red-500 text-sm text-center\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <Button disabled={loading} type=\"submit\">\r\n                            {loading ? <Loader2 className=\"animate-spin h-5 w-5\" /> : (isLogin ? 'Sign in' : 'Sign up')}\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-gray-700\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-gray-950 px-2 text-gray-400\">Or continue with</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={async () => {\r\n                            setLoading(true)\r\n                            await signInWithGoogle()\r\n                        }}\r\n                        className=\"flex w-full justify-center items-center gap-3 rounded-md bg-white px-3 py-1.5 text-sm font-semibold leading-6 text-gray-900 shadow-sm hover:bg-gray-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white\"\r\n                    >\r\n                        <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                            <path\r\n                                d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                                fill=\"#4285F4\"\r\n                            />\r\n                            <path\r\n                                d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                                fill=\"#34A853\"\r\n                            />\r\n                            <path\r\n                                d=\"M5.84 14.17c-.22-.66-.35-1.36-.35-2.17s.13-1.51.35-2.17V7.01H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.99l3.66-2.82z\"\r\n                                fill=\"#FBBC05\"\r\n                            />\r\n                            <path\r\n                                d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.01l3.66 2.82c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                                fill=\"#EA4335\"\r\n                            />\r\n                        </svg>\r\n                        Google\r\n                    </button>\r\n                </form>\r\n\r\n                <p className=\"mt-10 text-center text-sm text-gray-400\">\r\n                    {isLogin ? \"Not a member? \" : \"Already have an account? \"}\r\n                    <button onClick={() => setIsLogin(!isLogin)} className=\"font-semibold leading-6 text-indigo-400 hover:text-indigo-300\">\r\n                        {isLogin ? 'Start a 14 day free trial' : 'Sign in'}\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\onboarding\\onboarding.actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[657,660],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[657,660],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport async function submitOnboarding(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) {\r\n        return { error: 'Unauthorized' }\r\n    }\r\n\r\n    const username = formData.get('username') as string\r\n    const body_weight = parseFloat(formData.get('body_weight') as string)\r\n    const preferred_unit = formData.get('preferred_unit') as 'kg' | 'lbs'\r\n\r\n    const query = supabase.from('profiles') as any\r\n    const { error } = await query\r\n        .upsert({\r\n            id: user.id,\r\n            username,\r\n            body_weight,\r\n            preferred_unit,\r\n            updated_at: new Date().toISOString()\r\n        })\r\n\r\n    if (error) {\r\n        return { error: error.message }\r\n    }\r\n\r\n    revalidatePath('/', 'layout')\r\n    redirect('/')\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\onboarding\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":20,"column":58,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1047,1104],"text":"Let&apos;s set up your profile to personalize your experience."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1047,1104],"text":"Let&lsquo;s set up your profile to personalize your experience."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1047,1104],"text":"Let&#39;s set up your profile to personalize your experience."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1047,1104],"text":"Let&rsquo;s set up your profile to personalize your experience."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1186,1189],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1186,1189],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\nimport { submitOnboarding } from './onboarding.actions'\r\nimport { Dumbbell } from 'lucide-react'\r\n\r\nexport default async function OnboardingPage() {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) redirect('/login')\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-6 text-white\">\r\n            <div className=\"max-w-md w-full space-y-8\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"mx-auto h-16 w-16 bg-indigo-600 rounded-full flex items-center justify-center shadow-lg shadow-indigo-600/30 mb-6 border-4 border-gray-900\">\r\n                        <Dumbbell size={32} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-3xl font-bold tracking-tight\">Welcome to WilFit!</h2>\r\n                    <p className=\"mt-2 text-gray-400\">Let's set up your profile to personalize your experience.</p>\r\n                </div>\r\n\r\n                <form action={submitOnboarding as any} className=\"mt-8 space-y-6 bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-xl\">\r\n                    <div className=\"space-y-5\">\r\n                        <div>\r\n                            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-300\">\r\n                                Choose a Username\r\n                            </label>\r\n                            <input\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                type=\"text\"\r\n                                required\r\n                                className=\"mt-2 block w-full rounded-lg bg-gray-950 border border-gray-800 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 transition-colors\"\r\n                                placeholder=\"e.g. IronLifter\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label htmlFor=\"body_weight\" className=\"block text-sm font-medium text-gray-300\">\r\n                                    Body Weight\r\n                                </label>\r\n                                <input\r\n                                    id=\"body_weight\"\r\n                                    name=\"body_weight\"\r\n                                    type=\"number\"\r\n                                    step=\"0.1\"\r\n                                    required\r\n                                    className=\"mt-2 block w-full rounded-lg bg-gray-950 border border-gray-800 px-4 py-3 text-white focus:border-indigo-500 focus:ring-indigo-500 transition-colors\"\r\n                                    placeholder=\"0.0\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"preferred_unit\" className=\"block text-sm font-medium text-gray-300\">\r\n                                    Unit\r\n                                </label>\r\n                                <div className=\"mt-2 grid grid-cols-2 gap-2 bg-gray-950 p-1 rounded-lg border border-gray-800\">\r\n                                    <label className=\"cursor-pointer\">\r\n                                        <input type=\"radio\" name=\"preferred_unit\" value=\"kg\" className=\"peer sr-only\" defaultChecked />\r\n                                        <div className=\"text-center py-2 rounded-md text-sm font-medium text-gray-400 peer-checked:bg-indigo-600 peer-checked:text-white transition-all\">\r\n                                            KG\r\n                                        </div>\r\n                                    </label>\r\n                                    <label className=\"cursor-pointer\">\r\n                                        <input type=\"radio\" name=\"preferred_unit\" value=\"lbs\" className=\"peer sr-only\" />\r\n                                        <div className=\"text-center py-2 rounded-md text-sm font-medium text-gray-400 peer-checked:bg-indigo-600 peer-checked:text-white transition-all\">\r\n                                            LBS\r\n                                        </div>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all transform hover:scale-[1.02]\"\r\n                    >\r\n                        Get Started\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\profile\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[615,618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[615,618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function updateProfile(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) {\r\n        return { error: 'Not authenticated' }\r\n    }\r\n\r\n    const username = formData.get('username') as string\r\n    const body_weight = parseFloat(formData.get('body_weight') as string)\r\n    const preferred_unit = formData.get('preferred_unit') as 'kg' | 'lbs'\r\n\r\n    const query = supabase.from('profiles') as any\r\n    const { error } = await query\r\n        .upsert({\r\n            id: user.id,\r\n            username,\r\n            body_weight,\r\n            preferred_unit,\r\n            updated_at: new Date().toISOString(),\r\n        })\r\n\r\n    if (error) {\r\n        return { error: error.message }\r\n    }\r\n\r\n    revalidatePath('/profile')\r\n    return { success: true }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\profile\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[748,751],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[748,751],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\nimport { updateProfile } from './actions'\r\n\r\nexport default async function ProfilePage() {\r\n    const supabase = await createClient()\r\n\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) {\r\n        redirect('/login')\r\n    }\r\n\r\n    const { data: profile } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('id', user.id)\r\n        .single()\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-950 text-white p-6\">\r\n            <div className=\"max-w-md mx-auto\">\r\n                <h1 className=\"text-3xl font-bold mb-6\">Profile</h1>\r\n\r\n                <form action={updateProfile as any} className=\"space-y-6\">\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-400\">\r\n                            Email\r\n                        </label>\r\n                        <div className=\"mt-1\">\r\n                            <input\r\n                                type=\"text\"\r\n                                disabled\r\n                                value={user.email}\r\n                                className=\"block w-full rounded-md bg-gray-800 border-gray-700 text-gray-400 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 cursor-not-allowed\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-200\">\r\n                            Username\r\n                        </label>\r\n                        <div className=\"mt-1\">\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                                defaultValue={profile?.username || ''}\r\n                                className=\"block w-full rounded-md bg-gray-800 border-gray-700 text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"body_weight\" className=\"block text-sm font-medium text-gray-200\">\r\n                            Body Weight\r\n                        </label>\r\n                        <div className=\"mt-1 flex gap-2\">\r\n                            <input\r\n                                type=\"number\"\r\n                                step=\"0.1\"\r\n                                name=\"body_weight\"\r\n                                id=\"body_weight\"\r\n                                defaultValue={profile?.body_weight || ''}\r\n                                className=\"block w-full rounded-md bg-gray-800 border-gray-700 text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2\"\r\n                            />\r\n\r\n                            <div className=\"flex bg-gray-800 rounded-md border border-gray-700 p-0.5\">\r\n                                <label className=\"cursor-pointer\">\r\n                                    <input type=\"radio\" name=\"preferred_unit\" value=\"kg\" className=\"peer sr-only\" defaultChecked={profile?.preferred_unit === 'kg' || !profile?.preferred_unit} />\r\n                                    <div className=\"px-3 py-1.5 rounded text-xs font-medium text-gray-400 peer-checked:bg-indigo-600 peer-checked:text-white transition-all\">KG</div>\r\n                                </label>\r\n                                <label className=\"cursor-pointer\">\r\n                                    <input type=\"radio\" name=\"preferred_unit\" value=\"lbs\" className=\"peer sr-only\" defaultChecked={profile?.preferred_unit === 'lbs'} />\r\n                                    <div className=\"px-3 py-1.5 rounded text-xs font-medium text-gray-400 peer-checked:bg-indigo-600 peer-checked:text-white transition-all\">LBS</div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"w-full flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-900\"\r\n                        >\r\n                            Save Changes\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\schedule\\WeekScheduler.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CalendarIcon' is defined but never used.","line":5,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":40,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CalendarIcon"},"fix":{"range":[131,157],"text":""},"desc":"Remove unused variable \"CalendarIcon\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[394,397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[394,397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setViewDate' is assigned a value but never used.","line":10,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":33}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { format, startOfWeek, addDays, isSameDay } from 'date-fns'\r\nimport { Plus, Calendar as CalendarIcon, ChevronRight } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { createWorkout } from '@/app/workouts/actions' // We might need a client-friendly way or form\r\n\r\nexport default function WeekScheduler({ workouts }: { workouts: any[] }) {\r\n    const [viewDate, setViewDate] = useState(new Date())\r\n    const start = startOfWeek(viewDate, { weekStartsOn: 1 }) // Monday start\r\n    const weekDays = Array.from({ length: 7 }).map((_, i) => addDays(start, i))\r\n\r\n    // Simple Modal for adding workout\r\n    const [selectedDate, setSelectedDate] = useState<Date | null>(null)\r\n    const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n    const handleDayClick = (date: Date) => {\r\n        setSelectedDate(date)\r\n        setIsModalOpen(true)\r\n    }\r\n\r\n    const getWorkoutsForDay = (date: Date) => {\r\n        return workouts.filter(w => {\r\n            if (!w.scheduled_date) return false\r\n            return isSameDay(new Date(w.scheduled_date), date)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Week Grid */}\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n                {weekDays.map((day) => {\r\n                    const dayWorkouts = getWorkoutsForDay(day)\r\n                    const isToday = isSameDay(day, new Date())\r\n\r\n                    return (\r\n                        <div key={day.toISOString()} className={`p-4 rounded-xl border ${isToday ? 'border-indigo-500 bg-indigo-900/10' : 'border-gray-800 bg-gray-900'}`}>\r\n                            <div className=\"flex justify-between items-start mb-3\">\r\n                                <div>\r\n                                    <div className=\"text-sm text-gray-400 uppercase\">{format(day, 'EEEE')}</div>\r\n                                    <div className=\"text-xl font-bold\">{format(day, 'd MMM')}</div>\r\n                                </div>\r\n                                <button onClick={() => handleDayClick(day)} className=\"p-2 rounded-full hover:bg-gray-800\">\r\n                                    <Plus size={20} className=\"text-indigo-400\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                {dayWorkouts.map(w => (\r\n                                    <Link href={`/workouts/${w.id}`} key={w.id} className=\"block bg-gray-950 p-3 rounded-lg border border-gray-800 hover:border-gray-700 transition\">\r\n                                        <div className=\"flex justify-between items-center\">\r\n                                            <span className=\"font-medium\">{w.name}</span>\r\n                                            <ChevronRight size={16} className=\"text-gray-600\" />\r\n                                        </div>\r\n                                        <div className=\"text-xs text-gray-500 capitalize mt-1\">{w.status.replace('_', ' ')}</div>\r\n                                    </Link>\r\n                                ))}\r\n\r\n                                {dayWorkouts.length === 0 && (\r\n                                    <div className=\"text-xs text-gray-600 italic\">Rest Day</div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            {/* Modal for Creating Workout */}\r\n            {isModalOpen && selectedDate && (\r\n                <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50\">\r\n                    <div className=\"bg-gray-900 p-6 rounded-xl w-full max-w-md border border-gray-800\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">Plan Workout</h2>\r\n                        <p className=\"text-gray-400 mb-4\">For {format(selectedDate, 'EEEE d MMM')}</p>\r\n\r\n                        <form action={createWorkout} className=\"space-y-4\">\r\n                            <input type=\"hidden\" name=\"scheduledDate\" value={selectedDate.toISOString()} />\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm text-gray-400 mb-1\">Workout Name</label>\r\n                                <input\r\n                                    name=\"name\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"e.g., Leg Day\"\r\n                                    className=\"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-3 pt-2\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"flex-1 py-3 rounded-lg bg-gray-800 font-medium\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 py-3 rounded-lg bg-indigo-600 font-medium\"\r\n                                >\r\n                                    Create Plan\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\schedule\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\workouts\\[id]\\WorkoutSession.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRouter' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":19,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useRouter"},"fix":{"range":[50,93],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Timer' is defined but never used.","line":6,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Timer"},"fix":{"range":[151,158],"text":""},"desc":"Remove unused variable \"Timer\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[411,414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[411,414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[431,434],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[431,434],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2579,2582],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2579,2582],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":71,"column":33,"nodeType":"JSXOpeningElement","endLine":71,"endColumn":124},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":71,"column":33,"nodeType":"JSXOpeningElement","endLine":71,"endColumn":124},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4061,4064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4061,4064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'idx' is defined but never used.","line":91,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":91,"endColumn":59}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { Plus, CheckCircle, Timer, Dumbbell } from 'lucide-react'\r\nimport SetInput from '@/components/workout/SetInput'\r\nimport RestTimer from '@/components/workout/RestTimer'\r\nimport { addSet, finishWorkout, startWorkout } from '@/app/workouts/actions'\r\n\r\ntype Props = {\r\n    workout: any\r\n    exercises: any[]\r\n}\r\n\r\nexport default function WorkoutSession({ workout, exercises }: Props) {\r\n    const [timerActive, setTimerActive] = useState(false)\r\n    const [timerKey, setTimerKey] = useState(0) // Force reset\r\n\r\n    const handleSetComplete = async () => {\r\n        setTimerKey(k => k + 1)\r\n        setTimerActive(true)\r\n    }\r\n\r\n    const handleFinish = async () => {\r\n        await finishWorkout(workout.id)\r\n    }\r\n    // ...\r\n    const handleStart = async () => {\r\n        await startWorkout(workout.id)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pb-32\">\r\n            <header className=\"mb-6 flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold\">{workout.name}</h1>\r\n                    <span className=\"text-sm text-gray-400 capitalize\">\r\n                        {workout.status === 'planned' && workout.scheduled_date\r\n                            ? `Planned: ${new Date(workout.scheduled_date).toLocaleDateString()}`\r\n                            : workout.status.replace('_', ' ')\r\n                        }\r\n                    </span>\r\n                </div>\r\n\r\n                {workout.status === 'planned' ? (\r\n                    <button onClick={handleStart} className=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-bold animate-pulse\">\r\n                        Start Workout\r\n                    </button>\r\n                ) : workout.status === 'in_progress' ? (\r\n                    <button onClick={handleFinish} className=\"bg-red-600/20 text-red-500 px-3 py-1 rounded-md text-sm font-medium\">\r\n                        Finish\r\n                    </button>\r\n                ) : (\r\n                    <div className=\"text-green-500 font-bold\">Completed</div>\r\n                )}\r\n            </header>\r\n\r\n            {/* List of Exercises in this Workout */}\r\n            <div className=\"space-y-6\">\r\n                {exercises.length === 0 && (\r\n                    <div className=\"text-center py-10 text-gray-500\">\r\n                        No exercises added yet.\r\n                    </div>\r\n                )}\r\n\r\n                {exercises.map((group: any) => (\r\n                    <div key={group.exercise.id} className=\"bg-gray-900 border border-gray-800 rounded-xl p-4\">\r\n                        <div className=\"flex items-center gap-3 mb-4\">\r\n                            {group.exercise.gif_url ? (\r\n                                <img src={group.exercise.gif_url} className=\"w-12 h-12 rounded bg-gray-800 object-cover\" />\r\n                            ) : (\r\n                                <div className=\"w-12 h-12 rounded bg-gray-800 flex items-center justify-center text-gray-500\">\r\n                                    <Dumbbell size={20} />\r\n                                </div>\r\n                            )}\r\n                            <div>\r\n                                <h3 className=\"font-bold\">{group.exercise.name}</h3>\r\n                                <div className=\"text-xs text-indigo-400\">PR: {group.exercise.current_pr || '--'} kg</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Existing Sets */}\r\n                        <div className=\"space-y-2 mb-3\">\r\n                            <div className=\"grid grid-cols-4 gap-2 text-xs text-gray-500 text-center mb-1\">\r\n                                <div>KG</div>\r\n                                <div>REPS</div>\r\n                                <div>RPE</div>\r\n                                <div>Status</div>\r\n                            </div>\r\n                            {group.sets.map((set: any, idx: number) => (\r\n                                <div key={set.id} className=\"grid grid-cols-4 gap-2 items-center bg-gray-950 p-2 rounded text-sm text-center\">\r\n                                    <div className=\"text-white\">{set.weight}</div>\r\n                                    <div className=\"text-white\">{set.reps}</div>\r\n                                    <div className=\"text-gray-400\">{set.rpe || '-'}</div>\r\n                                    <div className=\"flex justify-center text-green-500\"><CheckCircle size={16} /></div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Input for New Set */}\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-800\">\r\n                            <div className=\"text-xs text-gray-500 mb-2\">New Set</div>\r\n                            <SetInput onSave={async (data) => {\r\n                                await addSet(workout.id, group.exercise.id, data)\r\n                                handleSetComplete()\r\n                            }} />\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                {/* Add Exercise Button */}\r\n                <Link href={`/exercises?workoutId=${workout.id}`} className=\"block w-full py-4 rounded-xl border-2 border-dashed border-gray-800 text-gray-500 text-center hover:border-gray-700 hover:text-gray-300 transition-colors\">\r\n                    <Plus className=\"inline mr-2\" />\r\n                    Add Exercise\r\n                </Link>\r\n            </div>\r\n\r\n            <RestTimer\r\n                key={timerKey}\r\n                isActive={timerActive}\r\n                onComplete={() => setTimerActive(false)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\workouts\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1565,1568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1565,1568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1645,1648],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1645,1648],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2322,2325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2322,2325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":78,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2708,2711],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2708,2711],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@/utils/supabase/server'\r\nimport WorkoutSession from './WorkoutSession'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport default async function WorkoutPage({ params, searchParams }: { params: Promise<{ id: string }>, searchParams: Promise<{ [key: string]: string | string[] | undefined }> }) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    // Await params and searchParams\r\n    const { id } = await params\r\n    const resolvedSearchParams = await searchParams\r\n\r\n    if (!user) redirect('/login')\r\n\r\n    // Fetch workout\r\n    const { data: workout } = await supabase\r\n        .from('workouts')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single()\r\n\r\n    if (!workout) {\r\n        return <div>Workout not found</div>\r\n    }\r\n\r\n    // Fetch sets\r\n    const { data: sets } = await supabase\r\n        .from('sets')\r\n        .select('*, exercise:exercises(*)')\r\n        .eq('workout_id', id)\r\n        .order('id', { ascending: true })\r\n\r\n    // Fetch planned exercises (Module 6)\r\n    const { data: plannedExercises } = await supabase\r\n        .from('workout_exercises')\r\n        .select('*, exercise:exercises(*)')\r\n        .eq('workout_id', id)\r\n\r\n    // Handle newExercise param (Transient -> Persistent Plan)\r\n    const newExerciseId = resolvedSearchParams?.newExercise\r\n    if (newExerciseId && typeof newExerciseId === 'string') {\r\n        // Check if already in plan or sets (Sets also imply existence)\r\n        const inPlan = plannedExercises?.some((p: any) => p.exercise.id === newExerciseId)\r\n        const inSets = sets?.some((s: any) => s.exercise.id === newExerciseId)\r\n\r\n        if (!inPlan && !inSets) {\r\n            // Add to Plan\r\n            await supabase\r\n                .from('workout_exercises')\r\n                .insert({\r\n                    workout_id: id,\r\n                    exercise_id: newExerciseId\r\n                })\r\n            // Refresh to show it\r\n            redirect(`/workouts/${id}`)\r\n        }\r\n    }\r\n\r\n    // Merge logic: We want to show all exercises that are either in the Plan OR have Sets.\r\n    // Group sets by exercise\r\n    const exercisesMap = new Map()\r\n\r\n    // 1. Add Planned Exercises first\r\n    if (plannedExercises) {\r\n        plannedExercises.forEach((item: any) => {\r\n            if (!exercisesMap.has(item.exercise.id)) {\r\n                exercisesMap.set(item.exercise.id, {\r\n                    exercise: item.exercise,\r\n                    sets: [],\r\n                    isPlanned: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    // 2. Add Sets (and exercises if not in plan)\r\n    if (sets) {\r\n        sets.forEach((set: any) => {\r\n            if (!exercisesMap.has(set.exercise.id)) {\r\n                exercisesMap.set(set.exercise.id, {\r\n                    exercise: set.exercise,\r\n                    sets: [],\r\n                    isPlanned: false // Was not in plan table, but has sets\r\n                })\r\n            }\r\n            exercisesMap.get(set.exercise.id).sets.push(set)\r\n        })\r\n    }\r\n\r\n    const exercises = Array.from(exercisesMap.values())\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-950 text-white p-4\">\r\n            <WorkoutSession workout={workout} exercises={exercises} />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\workouts\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2234,2237],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2234,2237],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'newSet' is assigned a value but never used.","line":77,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":77,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport async function createWorkout(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    const name = formData.get('name') as string\r\n    const scheduledDate = formData.get('scheduledDate') as string\r\n\r\n    // If a date is provided, it's a PLANNED workout. Otherwise, start immediately.\r\n    const status: 'planned' | 'in_progress' = scheduledDate ? 'planned' : 'in_progress'\r\n    const startTime = scheduledDate ? null : new Date().toISOString()\r\n\r\n    const { data, error } = await supabase\r\n        .from('workouts')\r\n        .insert({\r\n            user_id: user.id,\r\n            name,\r\n            status,\r\n            start_time: startTime,\r\n            scheduled_date: scheduledDate || null\r\n        })\r\n        .select('id')\r\n        .single()\r\n\r\n    if (error) return { error: error.message }\r\n\r\n    redirect(`/workouts/${data.id}`)\r\n}\r\n\r\nexport async function startWorkout(workoutId: string) {\r\n    const supabase = await createClient()\r\n\r\n    const { error } = await supabase\r\n        .from('workouts')\r\n        .update({\r\n            status: 'in_progress',\r\n            start_time: new Date().toISOString()\r\n        })\r\n        .eq('id', workoutId)\r\n\r\n    if (error) return { error: error.message }\r\n\r\n    revalidatePath(`/workouts/${workoutId}`)\r\n    return { success: true }\r\n}\r\n\r\nexport async function addExerciseToPlan(workoutId: string, exerciseId: string) {\r\n    const supabase = await createClient()\r\n\r\n    // Check if already in plan? (Optional, but good UX)\r\n    // For now, just insert\r\n    const { error } = await supabase\r\n        .from('workout_exercises')\r\n        .insert({\r\n            workout_id: workoutId,\r\n            exercise_id: exerciseId\r\n        })\r\n\r\n    if (error) return { error: error.message }\r\n\r\n    // Redirect? No, likely called from exercise page or workout page\r\n    // revalidatePath?\r\n    return { success: true }\r\n}\r\n\r\nexport async function addSet(workoutId: string, exerciseId: string, set: any) {\r\n    // set contains: reps, weight, rpe, estimated_1rm\r\n    const supabase = await createClient()\r\n\r\n    // 1. Insert Set\r\n    const { data: newSet, error } = await supabase\r\n        .from('sets')\r\n        .insert({\r\n            workout_id: workoutId,\r\n            exercise_id: exerciseId,\r\n            reps: set.reps,\r\n            weight: set.weight,\r\n            rpe: set.rpe,\r\n            estimated_1rm: set.estimated_1rm\r\n        })\r\n        .select()\r\n        .single()\r\n\r\n    if (error) return { error: error.message }\r\n\r\n    // 2. Check and Update PR (Feature B)\r\n    // Fetch current PR\r\n    const { data: exercise } = await supabase\r\n        .from('exercises')\r\n        .select('current_pr')\r\n        .eq('id', exerciseId)\r\n        .single()\r\n\r\n    if (exercise) {\r\n        if (!exercise.current_pr || set.estimated_1rm > exercise.current_pr) {\r\n            // Update PR\r\n            await supabase\r\n                .from('exercises')\r\n                .update({ current_pr: set.estimated_1rm })\r\n                .eq('id', exerciseId)\r\n        }\r\n    }\r\n\r\n    revalidatePath(`/workouts/${workoutId}`)\r\n    return { success: true }\r\n}\r\n\r\nexport async function finishWorkout(workoutId: string) {\r\n    const supabase = await createClient()\r\n\r\n    // allow calc volume load (sum of all sets)\r\n    const { data: sets } = await supabase\r\n        .from('sets')\r\n        .select('reps, weight')\r\n        .eq('workout_id', workoutId)\r\n\r\n    let volumeLoad = 0\r\n    sets?.forEach(s => {\r\n        volumeLoad += (s.reps * s.weight)\r\n    })\r\n\r\n    const { error } = await supabase\r\n        .from('workouts')\r\n        .update({\r\n            status: 'completed',\r\n            end_time: new Date().toISOString(),\r\n            volume_load: volumeLoad\r\n        })\r\n        .eq('id', workoutId)\r\n\r\n    if (error) return { error: error.message }\r\n\r\n    redirect('/')\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\app\\workouts\\new\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\dashboard\\LastWorkoutWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Timer' is defined but never used.","line":2,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Timer"},"fix":{"range":[47,54],"text":""},"desc":"Remove unused variable \"Timer\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Dumbbell' is defined but never used.","line":2,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Dumbbell"},"fix":{"range":[54,64],"text":""},"desc":"Remove unused variable \"Dumbbell\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[156,159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[156,159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Link from 'next/link'\r\nimport { Calendar, Timer, Dumbbell } from 'lucide-react'\r\n\r\nexport default function LastWorkoutWidget({ workout }: { workout: any }) {\r\n    if (!workout) {\r\n        return (\r\n            <div className=\"bg-gray-900 p-6 rounded-xl border border-gray-800\">\r\n                <h3 className=\"text-lg font-semibold mb-2\">Last Workout</h3>\r\n                <div className=\"text-gray-400 text-sm\">No recent workouts found.</div>\r\n                <Link href=\"/workouts/new\" className=\"mt-4 block w-full text-center bg-indigo-600/20 text-indigo-400 py-2 rounded-lg text-sm font-medium hover:bg-indigo-600/30\">\r\n                    Start First Workout\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const date = new Date(workout.end_time || workout.start_time).toLocaleDateString(undefined, { weekday: 'short', day: 'numeric', month: 'short' })\r\n\r\n    return (\r\n        <div className=\"bg-gray-900 p-6 rounded-xl border border-gray-800\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Last Session</h3>\r\n\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div>\r\n                    <div className=\"text-xl font-bold text-indigo-400\">{workout.name}</div>\r\n                    <div className=\"flex items-center text-xs text-gray-400 mt-1\">\r\n                        <Calendar size={12} className=\"mr-1\" />\r\n                        {date}\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                    <div className=\"text-2xl font-bold text-white\">{Math.round(workout.volume_load || 0)}</div>\r\n                    <div className=\"text-xs text-gray-500 uppercase tracking-wider\">Vol. Load</div>\r\n                </div>\r\n            </div>\r\n\r\n            <Link href={`/workouts/${workout.id}`} className=\"block w-full text-center bg-gray-800 text-gray-300 py-2 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors\">\r\n                View Details\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\dashboard\\OneRMChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[174,177],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[174,177],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid } from 'recharts'\r\n\r\nexport default function OneRMChart({ data }: { data: any[] }) {\r\n    if (!data || data.length === 0) {\r\n        return <div className=\"h-64 flex items-center justify-center text-gray-500\">No data available for Bench Press</div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"h-64 w-full bg-gray-900 rounded-xl p-4 border border-gray-800\">\r\n            <h3 className=\"text-lg font-bold mb-4\">Bench Press 1RM Progress</h3>\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <LineChart data={data}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" vertical={false} />\r\n                    <XAxis dataKey=\"date\" stroke=\"#9ca3af\" fontSize={12} tickLine={false} axisLine={false} />\r\n                    <YAxis stroke=\"#9ca3af\" fontSize={12} tickLine={false} axisLine={false} domain={['dataMin - 5', 'dataMax + 5']} />\r\n                    <Tooltip\r\n                        contentStyle={{ backgroundColor: '#111827', borderColor: '#374151', color: '#fff' }}\r\n                        itemStyle={{ color: '#818cf8' }}\r\n                    />\r\n                    <Line type=\"monotone\" dataKey=\"oneRM\" stroke=\"#6366f1\" strokeWidth={3} dot={{ r: 4, fill: '#6366f1' }} activeDot={{ r: 6 }} />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\exercises\\ExerciseCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createPortal' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":22,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"createPortal"},"fix":{"range":[116,156],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":33,"column":25,"nodeType":"JSXOpeningElement","endLine":41,"endColumn":27},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":95,"column":25,"nodeType":"JSXOpeningElement","endLine":99,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { Loader2, Plus, Dumbbell, Check, X } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\ninterface Exercise {\r\n    id: string\r\n    name: string\r\n    bodyPart: string\r\n    gifUrl?: string | null\r\n    // Add other fields if necessary\r\n}\r\n\r\ninterface ExerciseCardProps {\r\n    exercise: Exercise\r\n    onImport?: (exercise: Exercise) => void\r\n    importing?: boolean\r\n    isAdded?: boolean\r\n}\r\n\r\nexport default function ExerciseCard({ exercise, onImport, importing, isAdded }: ExerciseCardProps) {\r\n    const [isZoomed, setIsZoomed] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bg-gray-900 border border-gray-800 p-3 rounded-xl flex gap-4 items-center shadow-sm hover:border-gray-700 transition-colors group\">\r\n                {exercise.gifUrl ? (\r\n                    <div\r\n                        className=\"relative w-24 h-24 flex-shrink-0 cursor-pointer overflow-hidden rounded-md bg-gray-800\"\r\n                        onClick={() => setIsZoomed(true)}\r\n                    >\r\n                        <img\r\n                            src={exercise.gifUrl}\r\n                            alt={exercise.name}\r\n                            className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110\"\r\n                            onError={(e) => {\r\n                                (e.target as HTMLImageElement).style.display = 'none';\r\n                                (e.target as HTMLElement).parentElement?.nextElementSibling?.classList.remove('hidden');\r\n                            }}\r\n                        />\r\n                        <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors\" />\r\n                    </div>\r\n                ) : null}\r\n\r\n                <div className={`w-24 h-24 rounded-md bg-gray-800 flex flex-shrink-0 items-center justify-center text-gray-600 ${exercise.gifUrl ? 'hidden' : ''}`}>\r\n                    <Dumbbell size={32} />\r\n                </div>\r\n\r\n                <div className=\"flex-1 min-w-0 py-2\">\r\n                    <h3 className=\"font-bold text-lg truncate capitalize text-gray-100\">{exercise.name}</h3>\r\n                    <div className=\"flex items-center gap-2 mt-1\">\r\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-800 text-gray-300 capitalize border border-gray-700\">\r\n                            {exercise.bodyPart}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {onImport && (\r\n                    <button\r\n                        onClick={() => onImport(exercise)}\r\n                        disabled={importing || isAdded}\r\n                        className={`p-3 rounded-full transition-all duration-200 transform hover:scale-105 active:scale-95 flex-shrink-0 ${isAdded\r\n                                ? 'bg-green-500/10 text-green-500 border border-green-500/20'\r\n                                : 'bg-indigo-600/10 text-indigo-400 hover:bg-indigo-600 hover:text-white border border-indigo-600/20'\r\n                            }`}\r\n                    >\r\n                        {importing ? (\r\n                            <Loader2 className=\"animate-spin\" size={24} />\r\n                        ) : isAdded ? (\r\n                            <Check size={24} />\r\n                        ) : (\r\n                            <Plus size={24} />\r\n                        )}\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Lightbox / Zoom View */}\r\n            {isZoomed && exercise.gifUrl && (\r\n                <div\r\n                    className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in duration-200\"\r\n                    onClick={() => setIsZoomed(false)}\r\n                >\r\n                    <button\r\n                        className=\"absolute top-4 right-4 p-2 text-gray-400 hover:text-white\"\r\n                        onClick={() => setIsZoomed(false)}\r\n                    >\r\n                        <X size={32} />\r\n                    </button>\r\n                    <div\r\n                        className=\"relative w-full max-w-2xl aspect-square sm:aspect-video rounded-xl overflow-hidden bg-gray-900 border border-gray-800 shadow-2xl\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        <img\r\n                            src={exercise.gifUrl}\r\n                            alt={exercise.name}\r\n                            className=\"w-full h-full object-contain\"\r\n                        />\r\n                        <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 to-transparent\">\r\n                            <h3 className=\"text-xl font-bold text-white capitalize text-center\">{exercise.name}</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\workout\\RestTimer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nc:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\workout\\RestTimer.tsx:11:17\n   9 |         if (!isActive) {\n  10 |             if (timeLeft !== initialDuration) {\n> 11 |                 setTimeLeft(initialDuration)\n     |                 ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  12 |             }\n  13 |             return\n  14 |         }","line":11,"column":17,"nodeType":null,"endLine":11,"endColumn":28},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'timeLeft'. Either include it or remove the dependency array.","line":15,"column":8,"nodeType":"ArrayExpression","endLine":15,"endColumn":35,"suggestions":[{"desc":"Update the dependencies array to be: [isActive, initialDuration, timeLeft]","fix":{"range":[485,512],"text":"[isActive, initialDuration, timeLeft]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\n\r\nexport default function RestTimer({ initialDuration = 120, isActive, onComplete }: { initialDuration?: number, isActive: boolean, onComplete?: () => void }) {\r\n    const [timeLeft, setTimeLeft] = useState(initialDuration)\r\n\r\n    useEffect(() => {\r\n        if (!isActive) {\r\n            if (timeLeft !== initialDuration) {\r\n                setTimeLeft(initialDuration)\r\n            }\r\n            return\r\n        }\r\n    }, [isActive, initialDuration])\r\n\r\n    useEffect(() => {\r\n        if (!isActive) return\r\n\r\n        if (timeLeft <= 0) {\r\n            if (onComplete) onComplete()\r\n            return\r\n        }\r\n\r\n        const intervalId = setInterval(() => {\r\n            setTimeLeft((t) => t - 1)\r\n        }, 1000)\r\n\r\n        return () => clearInterval(intervalId)\r\n    }, [isActive, timeLeft, onComplete])\r\n\r\n    if (!isActive) return null\r\n\r\n    const minutes = Math.floor(timeLeft / 60)\r\n    const seconds = timeLeft % 60\r\n\r\n    return (\r\n        <div className=\"fixed bottom-20 right-4 bg-indigo-600 text-white p-4 rounded-full shadow-lg z-50 flex items-center justify-center w-16 h-16 border-2 border-indigo-400\">\r\n            <span className=\"font-bold text-sm\">\r\n                {minutes}:{seconds.toString().padStart(2, '0')}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\components\\workout\\SetInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\types\\database.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\utils\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\utils\\supabase\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"c:\\Users\\ea423\\PROJETS\\WilFit\\src\\utils\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
